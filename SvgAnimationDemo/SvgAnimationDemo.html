<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>svg动画小demo</title>

    <style>
        /*path {*/
        /*!*css定义svg实线和空白区域的长度*!*/
        /*!*stroke-dasharray: 1700;*!*/
        /*!*stroke-dashoffset: 1700;*!*/
        /*animation: dash 3s linear;*/
        /*!*动画完成后,保持图案*!*/
        /*animation-fill-mode: forwards;*/

        /*!*额外属性,围绕中心位置旋转等*!*/
        /*transform-origin: 50% 50%;*/
        /*transform: rotate(45deg);*/
        /*}*/

        /*将stroke-dashoffset属性变成0的过程就形成了动画效果*/
        @keyframes dash {
            to {
                stroke-dashoffset: 0;
            }
        }
    </style>


    <script>
        window.onload = function () {

            var path = document.querySelector('path');
            var len = path.getTotalLength();
            console.log("总长度 : " + len);

            //代码获取长度并设置动画相关属性
            //定义实线和空白区域长度
            path.style.strokeDasharray = len + 10;
            //定义初始dash部分相对起始点的偏移量,正数表示往前便宜
            path.style.strokeDashoffset = len + 10;


            //==============================================
            // 以下为通过js代码控制动画,使用以下功能,请注释掉css动画设置
            // 方式1:参考文章: https://jakearchibald.com/2013/animated-line-drawing-svg/
//            path.style.transition = path.style.WebkitTransition =
//                    'none';
//            // Trigger a layout so styles are calculated & the browser
//            // picks up the starting position before animating
//            path.getBoundingClientRect();
//            path.style.transition = path.style.WebkitTransition =
//                    'stroke-dashoffset 5s ease-in-out';
//            path.style.strokeDashoffset = '0';

            var initial_ts = new Date().getTime();
            var duration = 5000;

            // 方式2:带时间设置 参考文章: http://product.voxmedia.com/2013/11/25/5426880/polygon-feature-design-svg-animations-for-fun-and-profit
//            var draw = function () {
//                var progress = (Date.now() - initial_ts) / duration;
//                if (progress < 1) {
//                    path.style.strokeDashoffset = Math.floor(len * (1 - progress));
//                    setTimeout(draw, 50);
//                }
//            };
//            draw();

            //方式3:requestAnimationFrame
            var handle = 0;
            var animate = function () {
                var progress = (Date.now() - initial_ts) / duration;
                if (progress >= 1) {
                    window.cancelAnimationFrame(handle);
                } else {
                    path.style.strokeDashoffset = Math.floor(len * (1 - progress));
                    handle = window.requestAnimationFrame(animate);
                }
            };
            animate();
        };
    </script>
</head>

<body>
<!-- 嵌入一个svg图案,比较复杂图案建议使用svg编辑器来生成,比如:http://editor.method.ac/ -->
<svg width="580" height="400" xmlns="http://www.w3.org/2000/svg">
    <path
            d="m74.5,89c1,1 0.7435,1.796997 0,3c-1.662506,2.689995 -1.385094,5.372017 -4,9c-0.826904,1.14727 -2.380554,2.763046 -6,9c-1.122341,1.933998 -4.224205,7.902824 -5,10c-1.430496,3.866997 -1.793934,7.08744 -4,12c-2.748055,6.119492 -4.231731,9.927673 -6,16c-1.152771,3.958679 -0.511269,5.029968 -1,9c-0.503773,4.092209 -1,8 -1,11c0,4 0,7 0,9c0,4 0,7 0,9c0,4 2.224205,6.902832 3,9c1.430496,3.867004 2.385098,6.372009 5,10c2.480717,3.441803 6.198921,5.532364 9,7c4.428894,2.320526 7.823746,4.486252 10,5c3.892998,0.919006 8,0 13,0c4,0 6.888557,-0.194092 12,-3c5.880447,-3.228043 13.513,-9.733566 18,-19c5.665611,-11.70047 6.835007,-21.014893 8,-33c0.876091,-9.012909 1,-19 1,-28c0,-10 0,-15 0,-21c0,-4 -1.617317,-7.076118 -2,-8c-0.541199,-1.306564 -2,-2 -3,-2c-1,0 -2.152245,-0.765366 -4,0c-2.613129,1.08239 -4.729622,6.228851 -9,11c-1.886337,2.107544 -4.496223,7.907784 -5,12c-0.488731,3.970032 -2,9 -2,13c0,4 0,6 0,10c0,5 0,8 0,10c0,4 0.337494,5.310013 2,8c0.7435,1.203003 1.386871,2.917603 4,4c0.923882,0.38269 3.080254,0.689255 6,0c2.176254,-0.513748 4.718987,-3.310211 8,-6c5.576653,-4.571762 13.042938,-9.925766 20,-14c5.031631,-2.946655 13.891708,-8.195755 21,-12c7.885941,-4.220428 16.667084,-6.943726 24,-9c6.808441,-1.909195 14.074814,-0.519623 22,-2c8.106003,-1.51416 13.851593,-2.99511 24,-4c5.970795,-0.591225 11,0 18,0c5,0 9.953308,-0.499031 18,-1c4.990326,-0.310684 12,0 17,0c4,0 8,0 12,0c1,0 2.186005,-0.307449 4,1c1.147278,0.826904 2.493469,2.878555 3,6c0.48056,2.961258 2.376678,7.887314 4,14c2.617523,9.8564 6.499634,19.971207 7,33c0.537262,13.989685 1,26 1,41c0,12 0,26 0,36c0,7 0.977478,16.059937 0,24c-1.007538,8.184418 -4.077637,14.558014 -8,20c-5.78833,8.030884 -10.907776,9.496216 -15,10c-3.970032,0.488739 -10,0 -19,0c-9,0 -18.894653,-1.197296 -30,-7c-7.927338,-4.142151 -19.236221,-11.795441 -27,-21c-8.25679,-9.789063 -13.711609,-22.092255 -18,-35c-4.687119,-14.107834 -7,-28 -7,-40c0,-12 -1.597351,-23.116592 0,-34c1.516068,-10.329651 6,-18 11,-27c5,-9 12.358612,-16.467445 20,-22c6.326187,-4.580322 12.886826,-10.295464 23,-14c8.90799,-3.263069 20.813873,-4.879005 33,-7c9.901031,-1.723274 19,-1 24,-1c6,0 8,0 13,0c3,0 3.852722,0.173096 5,1c1.813995,1.307449 2.679626,2.025826 3,4c0.506531,3.121445 1,5 1,10c0,4 0,7 0,9c0,4 1.579926,7.783798 -1,11c-1.39917,1.744232 -7.951385,7.065948 -12,10c-9.883942,7.162933 -18.967316,13.059311 -28,18c-12.953674,7.085373 -24.722778,14.54303 -40,22c-17.701553,8.64032 -29.891296,15.263245 -49,23c-17.901581,7.248001 -33.896057,15.198013 -49,23c-13.906708,7.183563 -28.085884,15.851547 -42,24c-10.063255,5.893311 -17.617165,10.126862 -25,16c-3.320198,2.641266 -5.714119,6.21167 -8,9c-2.689789,3.281006 -3.877655,5.06601 -5,7c-1.809723,3.118469 -2.707108,5.292908 -2,6c0.707108,0.707092 1.823746,0.486267 4,1c0.973251,0.229767 2.920341,1.167969 7,3c4.91256,2.206055 8.480156,4.092773 16,7c8.599274,3.324524 16.496246,7.13623 29,12c13.569763,5.278412 29.88945,11.245544 43,17c11.903839,5.224792 23.174881,7.58786 33,12c10.199158,4.580109 17.156876,7.579712 23,10c4.131714,1.711426 7.418854,2.418854 9,4c1.581146,1.581146 2,3 3,3l1,1"
            id="svg_1" stroke-width="1.5" stroke="#000" fill="none"/>
</svg>

</body>
</html>